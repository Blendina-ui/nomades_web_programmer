<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <style>
    fieldset {
      max-width: 400px;;
    }
  </style>
  <fieldset>
    <legend>
      <h1>Le Juste Prix</h1>
    </legend>
    <p>Quel est le juste prix?</p>
    <input type="number" name="prix" id="prix" title="prix">
    <button onclick="checkPrix()">proposer</button>
    <ul id="messages"></ul>
  </fieldset>

  <script>
    const MAX_RANDOM_VALUE = 100
    const PRIX = Math.floor(Math.random() * MAX_RANDOM_VALUE) + 1;
    console.log('Juste Prix: ', PRIX);
    let counter = 0
    const btn = document.querySelector("button")
    const prixInput = document.querySelector("#prix")
    const message = document.querySelector("#messages")
    let optimalTries = Math.floor(Math.log2(MAX_RANDOM_VALUE))

      prixInput.addEventListener("keydown", (event) => {
      if(event.isComposing || event.keyCode === 13){
        checkPrix()
        console.log("sdfghj");
      }
    });

    const checkPrix = () => {
       // TODO: récupérer la valeur du champ de saisie (prix de l'utilisateur) /!\ hint: parseInt, int i = Number(val)
      const valeurEntree = prixInput.value
       counter ++
       if(valeurEntree == PRIX && counter <= optimalTries){
        alert(`vous avez reussi en ${counter}`)
        message.innerHTML = `<li>Bravo champion!!!</li>`
       } else if(valeurEntree == PRIX ){
        alert( `vous avez reussi en ${counter} fois`)
        messages.innerHTML = "<li>Bravo!!!!!!</li>"
      }else if(valeurEntree < PRIX){
        messages.innerHTML += "<li>C'est plus </li>"
      }else if(valeurEntree > PRIX){
        messages.innerHTML += "<li>c'est moins </li>"
      }

     
    }
    
      
    
  </script>
</body>
</html>